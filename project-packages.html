<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Open Source Packages | Technical Deep Dive</title>
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&family=Outfit:wght@400;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/remixicon@3.5.0/fonts/remixicon.css">
    <link rel="stylesheet" href="css/style.css">
    <style>
        .case-hero {
            padding: 12rem 0 6rem;
            background: linear-gradient(to bottom, #3b82f6, #1d4ed8, #0f172a); /* Blue for Tech/Open Source */
            border-bottom: 1px solid var(--border-subtle);
        }
        .code-preview {
            background: #0f172a;
            padding: 1.5rem;
            border-radius: 0.5rem;
            border: 1px solid var(--border-subtle);
            font-family: monospace;
            font-size: 0.9rem;
            color: #e2e8f0;
            overflow-x: auto;
        }
    </style>
</head>
<body>

    <header class="header">
        <div class="container nav">
            <a href="index.html" class="logo"><span class="logo-dot"></span>Khaled Morsi</a>
            <nav>
                <ul class="nav-links">
                     <li><a href="index.html#work" class="nav-link">Back to Work</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <main>
        <section class="case-hero">
            <div class="container">
                <span class="hero-label" style="background: rgba(0,0,0,0.2); border-color: rgba(255,255,255,0.2); color:white;">Open Source Engineering</span>
                <h1 class="hero-title">Architecting Reusable PHP Packages.</h1>
                <p class="hero-description" style="color: rgba(255,255,255,0.9);">
                    Solving complex architectural problems—Multi-tenancy and Security—by building robust, reusable Laravel packages.
                </p>
            </div>
        </section>

        <section class="section">
            <div class="container">
                 <div class="project-grid">
                     <!-- Package 1: Krayin Multi-Tenancy -->
                     <div style="margin-bottom: 4rem;">
                         <span class="section-eyebrow" style="color: #60a5fa;">Package 01</span>
                         <h3 class="section-title">Krayin Multi-Tenancy</h3>
                         <div class="two-col" style="display: grid; grid-template-columns: 1fr 1fr; gap: 2rem; margin-top: 1rem;">
                             <div>
                                 <p class="project-desc">
                                     A sophisticated package enabling <strong>Database-per-Tenant</strong> architecture for Krayin CRM. 
                                 </p>
                                 <p class="project-desc">
                                     <strong>Core Logic:</strong> dynamically swaps the database connection based on the incoming request domain or tenant ID, ensuring total data isolation without code duplication.
                                 </p>
                                 <a href="https://github.com/kz370/krayin-multi-tenancy" target="_blank" class="btn btn-secondary" style="margin-top: 1rem;">View on GitHub</a>
                             </div>
                             <div class="code-preview">
// TenantMiddleware.php
public function handle($request, Closure $next)
{
    $tenant = Tenant::where('domain', $request->getHost())->first();
    
    if ($tenant) {
        // Hot-swap DB Connection
        Config::set('database.connections.tenant.database', $tenant->db_name);
        DB::purge('tenant');
    }
    
    return $next($request);
}
                             </div>
                         </div>
                     </div>

                     <!-- Package 2: JWT Auth -->
                     <div>
                         <span class="section-eyebrow" style="color: #60a5fa;">Package 02</span>
                         <h3 class="section-title">Laravel JWT Auth</h3>
                         <div class="two-col" style="display: grid; grid-template-columns: 1fr 1fr; gap: 2rem; margin-top: 1rem;">
                             <div>
                                 <p class="project-desc">
                                     A streamlined package for handling <strong>JSON Web Token</strong> authentication in stateless APIs.
                                 </p>
                                 <p class="project-desc">
                                     Focused on security best practices, handling token rotation, expiration, and payload decoding efficiently for high-traffic microservices.
                                 </p>
                                 <a href="https://github.com/kz370/jwt-auth" target="_blank" class="btn btn-secondary" style="margin-top: 1rem;">View on GitHub</a>
                             </div>
                             <div class="code-preview">
// AuthController.php
public function login(Request $request) 
{
    $credentials = $request->only('email', 'password');
    
    if (!$token = JWTAuth::attempt($credentials)) {
        return response()->json(['error' => 'Unauthorized'], 401);
    }
    
    return $this->respondWithToken($token);
}
                             </div>
                         </div>
                     </div>
                 </div>
            </div>
        </section>
    </main>

    <footer class="footer">
        <div class="container"><p>&copy; 2026 Khaled Morsi.</p></div>
    </footer>
</body>
</html>
